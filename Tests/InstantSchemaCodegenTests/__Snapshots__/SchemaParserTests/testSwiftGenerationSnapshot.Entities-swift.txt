// Entities.swift
// Generated by InstantSchemaCodegen
//
// DO NOT EDIT - This file is generated from your InstantDB schema.
// Any changes will be overwritten on the next codegen run.

import Foundation
import SharingInstant

/// A todo item with title and completion status
public struct Todo: EntityIdentifiable, Codable, Sendable {
  public static var namespace: String { "todos" }
  
  // MARK: - Fields
  
  /// The unique identifier for this entity
  public var id: String
  public var title: String
  public var done: Bool
  public var priority: Double?

  // MARK: - Links
  // Populated when queried with .with(...)

  /// Link to users via 'userTodos'
  /// - Note: Only populated when queried with `.with(\.owner)`
  public var owner: User?


  // MARK: - Initializer

  public init(
    id: String = UUID().uuidString,
    title: String,
    done: Bool,
    priority: Double? = nil,
    owner: User? = nil
  ) {
    self.id = id
    self.title = title
    self.done = done
    self.priority = priority
    self.owner = owner
  }
}


/// A user who can own todos
public struct User: EntityIdentifiable, Codable, Sendable {
  public static var namespace: String { "users" }
  
  // MARK: - Fields
  
  /// The unique identifier for this entity
  public var id: String
  public var name: String
  public var email: String
  public var createdAt: Date

  // MARK: - Links
  // Populated when queried with .with(...)

  /// Link to todos via 'userTodos'
  /// - Note: Only populated when queried with `.with(\.todos)`
  public var todos: [Todo]?


  // MARK: - Initializer

  public init(
    id: String = UUID().uuidString,
    name: String,
    email: String,
    createdAt: Date,
    todos: [Todo]? = nil
  ) {
    self.id = id
    self.name = name
    self.email = email
    self.createdAt = createdAt
    self.todos = todos
  }
}


